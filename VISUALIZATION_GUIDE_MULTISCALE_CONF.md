# å¤šå°ºåº¦/å¤šç½®ä¿¡åº¦æ£€æµ‹å¯è§†åŒ–ä½¿ç”¨æŒ‡å—

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•ä½¿ç”¨å¯è§†åŒ–è„šæœ¬æ¥åˆ†æå¤šå°ºåº¦å’Œå¤šç½®ä¿¡åº¦æ£€æµ‹çš„æ•ˆæœã€‚

---

## ğŸ“ è„šæœ¬æ–‡ä»¶

| è„šæœ¬ | åŠŸèƒ½ |
|------|------|
| `visualize_multiscale_results.py` | å¤šå°ºåº¦æ£€æµ‹ç»“æœå¯è§†åŒ– |
| `visualize_multi_conf_results.py` | å¤šç½®ä¿¡åº¦æ£€æµ‹ç»“æœå¯è§†åŒ– |

---

## ğŸ¯ åŠŸèƒ½è¯´æ˜

### å¤šå°ºåº¦å¯è§†åŒ–

å°†ä»¥ä¸‹å†…å®¹æ‹¼æ¥åˆ°ä¸€å¼ ç½‘æ ¼å›¾ä¸­ï¼š
1. **Ground Truth** - çœŸå®æ ‡ç­¾ï¼ˆç»¿è‰²æ¡†ï¼‰
2. **å„å°ºåº¦æ£€æµ‹ç»“æœ** - æ¯ä¸ªå°ºåº¦çš„æ£€æµ‹æ¡†ï¼ˆä¸åŒé¢œè‰²ï¼‰
3. **èåˆç»“æœ** - NMSèåˆåçš„æœ€ç»ˆç»“æœï¼ˆçº¢è‰²æ¡†ï¼‰

### å¤šç½®ä¿¡åº¦å¯è§†åŒ–

å°†ä»¥ä¸‹å†…å®¹æ‹¼æ¥åˆ°ä¸€å¼ ç½‘æ ¼å›¾ä¸­ï¼š
1. **Ground Truth** - çœŸå®æ ‡ç­¾ï¼ˆç»¿è‰²æ¡†ï¼‰
2. **å„ç½®ä¿¡åº¦æ£€æµ‹ç»“æœ** - æ¯ä¸ªç½®ä¿¡åº¦çš„æ£€æµ‹æ¡†ï¼ˆä¸åŒé¢œè‰²ï¼‰

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. å¤šå°ºåº¦å¯è§†åŒ–

#### å•å¼ å›¾åƒ
```bash
python visualize_multiscale_results.py \
    --model runs/detect/xxx/weights/best.pt \
    --image /path/to/image.jpg \
    --label /path/to/label.txt \
    --scales 640 832 1024 1280 \
    --save-dir runs/multiscale_visible \
    --conf 0.25 \
    --iou 0.5 \
    --cell-size 640
```

#### æ‰¹é‡å¤„ç†
```bash
python visualize_multiscale_results.py \
    --model runs/detect/xxx/weights/best.pt \
    --image-dir /path/to/images \
    --label-dir /path/to/labels \
    --scales 640 832 1024 1280 \
    --save-dir runs/multiscale_visible \
    --max-images 10
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--model` | æ¨¡å‹è·¯å¾„ | å¿…å¡« |
| `--image` | å•å¼ å›¾åƒè·¯å¾„ | - |
| `--image-dir` | å›¾åƒç›®å½•ï¼ˆæ‰¹é‡ï¼‰ | - |
| `--label` | å•å¼ æ ‡ç­¾è·¯å¾„ | - |
| `--label-dir` | æ ‡ç­¾ç›®å½•ï¼ˆæ‰¹é‡ï¼‰ | - |
| `--scales` | å°ºåº¦åˆ—è¡¨ | 640 832 1024 1280 |
| `--save-dir` | ä¿å­˜ç›®å½• | runs/multiscale_visible |
| `--conf` | ç½®ä¿¡åº¦é˜ˆå€¼ | 0.25 |
| `--iou` | NMS IoUé˜ˆå€¼ | 0.5 |
| `--cell-size` | ç½‘æ ¼å•å…ƒæ ¼å¤§å° | 640 |
| `--device` | è®¾å¤‡ | cuda:0 |
| `--max-images` | æœ€å¤§å¤„ç†å›¾åƒæ•° | å…¨éƒ¨ |

---

### 2. å¤šç½®ä¿¡åº¦å¯è§†åŒ–

#### å•å¼ å›¾åƒ
```bash
python visualize_multi_conf_results.py \
    --model runs/detect/xxx/weights/best.pt \
    --image /path/to/image.jpg \
    --label /path/to/label.txt \
    --conf-list 0.1 0.2 0.3 0.4 0.5 \
    --save-dir runs/multiconf_visible \
    --imgsz 1280
```

#### æ‰¹é‡å¤„ç†
```bash
python visualize_multi_conf_results.py \
    --model runs/detect/xxx/weights/best.pt \
    --image-dir /path/to/images \
    --label-dir /path/to/labels \
    --conf-list 0.05 0.1 0.15 0.2 0.25 0.3 \
    --save-dir runs/multiconf_visible \
    --imgsz 1280 \
    --max-images 10
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--model` | æ¨¡å‹è·¯å¾„ | å¿…å¡« |
| `--image` | å•å¼ å›¾åƒè·¯å¾„ | - |
| `--image-dir` | å›¾åƒç›®å½•ï¼ˆæ‰¹é‡ï¼‰ | - |
| `--label` | å•å¼ æ ‡ç­¾è·¯å¾„ | - |
| `--label-dir` | æ ‡ç­¾ç›®å½•ï¼ˆæ‰¹é‡ï¼‰ | - |
| `--conf-list` | ç½®ä¿¡åº¦åˆ—è¡¨ | 0.1 0.2 0.3 0.4 0.5 |
| `--save-dir` | ä¿å­˜ç›®å½• | runs/multiconf_visible |
| `--imgsz` | æ¨ç†å°ºå¯¸ | 1280 |
| `--iou` | NMS IoUé˜ˆå€¼ | 0.5 |
| `--cell-size` | ç½‘æ ¼å•å…ƒæ ¼å¤§å° | 640 |
| `--device` | è®¾å¤‡ | cuda:0 |
| `--max-images` | æœ€å¤§å¤„ç†å›¾åƒæ•° | å…¨éƒ¨ |

---

## ğŸ“Š è¾“å‡ºè¯´æ˜

### è¾“å‡ºç›®å½•ç»“æ„

```
runs/multiscale_visible/
â””â”€â”€ <æ¨¡å‹åç§°>_<å°ºåº¦åˆ—è¡¨>/
    â”œâ”€â”€ image1_multiscale.jpg
    â”œâ”€â”€ image2_multiscale.jpg
    â””â”€â”€ ...

runs/multiconf_visible/
â””â”€â”€ <æ¨¡å‹åç§°>_conf_<ç½®ä¿¡åº¦åˆ—è¡¨>/
    â”œâ”€â”€ image1_multiconf.jpg
    â”œâ”€â”€ image2_multiconf.jpg
    â””â”€â”€ ...
```

### è¾“å‡ºå›¾åƒæ ¼å¼

ç”Ÿæˆçš„å›¾åƒæ˜¯ä¸€ä¸ªç½‘æ ¼ï¼ŒåŒ…å«å¤šä¸ªå­å›¾ï¼š

**å¤šå°ºåº¦ç¤ºä¾‹** (4ä¸ªå°ºåº¦):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ground Truth â”‚   Scale 640   â”‚   Scale 832   â”‚
â”‚   (ç»¿è‰²æ¡†)     â”‚   (è“è‰²æ¡†)    â”‚   (æ©™è‰²æ¡†)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Scale 1024   â”‚  Scale 1280   â”‚    Fused      â”‚
â”‚   (é’è‰²æ¡†)     â”‚   (ç²‰è‰²æ¡†)    â”‚   (çº¢è‰²æ¡†)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤šç½®ä¿¡åº¦ç¤ºä¾‹** (5ä¸ªç½®ä¿¡åº¦):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ground Truth â”‚   conf=0.1    â”‚   conf=0.2    â”‚
â”‚   (ç»¿è‰²æ¡†)     â”‚   (è“è‰²æ¡†)    â”‚   (æ©™è‰²æ¡†)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   conf=0.3    â”‚   conf=0.4    â”‚   conf=0.5    â”‚
â”‚   (é’è‰²æ¡†)     â”‚   (ç²‰è‰²æ¡†)    â”‚   (é»„è‰²æ¡†)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ D1æ•°æ®é›†ä½¿ç”¨ç¤ºä¾‹

### å¤šå°ºåº¦å¯è§†åŒ–
```bash
python visualize_multiscale_results.py \
    --model runs/detect/D1_yolov8l_1280_xxx/weights/best.pt \
    --image-dir /path/to/D1_type3/yolo_format/images/val \
    --label-dir /path/to/D1_type3/yolo_format/labels/val \
    --scales 832 1024 1280 1536 \
    --save-dir runs/multiscale_visible \
    --conf 0.25 \
    --max-images 5
```

### å¤šç½®ä¿¡åº¦å¯è§†åŒ–
```bash
python visualize_multi_conf_results.py \
    --model runs/detect/D1_yolov8l_1280_xxx/weights/best.pt \
    --image-dir /path/to/D1_type3/yolo_format/images/val \
    --label-dir /path/to/D1_type3/yolo_format/labels/val \
    --conf-list 0.05 0.1 0.15 0.2 0.25 0.3 \
    --save-dir runs/multiconf_visible \
    --imgsz 1280 \
    --max-images 5
```

---

## ğŸ’¡ åˆ†ææŠ€å·§

### å¤šå°ºåº¦åˆ†æ
1. è§‚å¯Ÿæ¯ä¸ªå°ºåº¦æ£€æµ‹åˆ°çš„ç›®æ ‡æ•°é‡
2. æ¯”è¾ƒå°å°ºåº¦ï¼ˆ640ï¼‰å’Œå¤§å°ºåº¦ï¼ˆ1280ï¼‰çš„æ£€æµ‹å·®å¼‚
3. æ£€æŸ¥èåˆç»“æœæ˜¯å¦ä¸¢å¤±äº†æŸäº›æ£€æµ‹

### å¤šç½®ä¿¡åº¦åˆ†æ
1. æ‰¾åˆ°æ£€æµ‹æ•°é‡æœ€æ¥è¿‘GTçš„ç½®ä¿¡åº¦
2. è§‚å¯Ÿä½ç½®ä¿¡åº¦æ—¶æ˜¯å¦æœ‰å¤§é‡è¯¯æ£€
3. è§‚å¯Ÿé«˜ç½®ä¿¡åº¦æ—¶æ˜¯å¦æœ‰å¤§é‡æ¼æ£€

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. å›¾åƒå°ºå¯¸è¾ƒå¤§æ—¶ï¼Œå»ºè®®å‡å° `--cell-size` ä»¥å‡å°‘å†…å­˜ä½¿ç”¨
2. æ‰¹é‡å¤„ç†æ—¶ï¼Œå»ºè®®å…ˆç”¨ `--max-images 5` æµ‹è¯•å‡ å¼ 
3. é¢œè‰²è¯´æ˜ï¼š
   - **ç»¿è‰²** = Ground Truth
   - **çº¢è‰²** = èåˆç»“æœ / ç›´æ¥æ¨ç†ç»“æœ
   - **å…¶ä»–é¢œè‰²** = å„å°ºåº¦ / å„ç½®ä¿¡åº¦ç»“æœ

